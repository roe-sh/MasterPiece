<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>تفاصيل ورشة العمل</title>

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&amp;display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
        <div class="container">
          <a class="navbar-brand" href="Index2.html">بذرة <span>حب</span></a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="fa fa-bars"></span> قائمة
          </button>
          <div class="collapse navbar-collapse" id="ftco-nav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item"><a href="index.html" class="nav-link">الصفحة الرئيسية</a></li>
                <li class="nav-item"><a href="shop2.html" class="nav-link">المتجر</a></li>
                <li class="nav-item"><a href="services.html" class="nav-link">الخدمات</a></li>
                <li class="nav-item"><a href="blog.html" class="nav-link">الأخبار</a></li>
                <li class="nav-item"><a href="about.html" class="nav-link">عنا</a></li>
              <li class="nav-item"><a href="contact.html" class="nav-link">تواصل معنا</a></li>
       
            
            
              
              <!-- أيقونة الصفحة الشخصية -->
              <li class="nav-item">
                <a href="profile.html" class="nav-link">
                  <span class="fa fa-user"></span> 
                </a>
              </li>
              
              <!-- أيقونة سلة المشتريات -->
              <li class="nav-item">
                <a href="cart.html" class="nav-link">
                  <span class="fa fa-shopping-cart"></span> 
                </a>
              </li>
      
              <!-- زر تسجيل الخروج -->
             
            </ul>
            <li class="nav-item">
                <a href="index.html" class="btn btn-danger nav-link text-white" style="margin-left: 10px;">تسجيل الخروج</a>
              </li>
          </div>
        </div>
      </nav>
      
    <!-- Hero Section -->
    <section class="hero-wrap hero-wrap-2" style="background-image: url('images/womenwithbaby.jpg');" data-stellar-background-ratio="0.5">
        <div class="overlay"></div>
        <div class="container">
            <div class="row no-gutters slider-text align-items-end">
                <div class="col-md-9 ftco-animate pb-5">
                    <p class="breadcrumbs mb-2">
                        <span class="mr-2"><a href="index.html">الصفحة الرئيسية <i class="fa fa-chevron-right"></i></a></span>
                        <span>تفاصيل ورشة العمل <i class="fa fa-chevron-right"></i></span>
                    </p>
                    <h1 class="mb-0 bread">تفاصيل ورشة العمل</h1>
                </div>
            </div>
        </div>
    </section>
<!-- Workshop Details Section -->
<section class="ftco-section">
  <div class="container">
    <div class="row">
      <div class="col-md-8">
        <h2 class="mb-4" id="workshopTitle">ورشة تغذية الأم والطفل</h2>
        <p><strong>تاريخ الورشة:</strong> <span id="workshopDate"></span></p>
        <p><strong>الوقت:</strong> <span id="workshopTime"></span></p>
        <p><strong>المكان:</strong> <span id="workshopLocation"></span></p>
        <p id="workshopDescription"></p>

        <h4>المواضيع التي ستغطيها الورشة:</h4>
        <ul id="workshopTopics">
          <!-- Topics will be dynamically inserted here -->
        </ul>

        <div class="mt-5">
          <h4>رسوم التسجيل: 50$</h4>
          <!-- Button to trigger the popup -->
          <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#workshopModal">
            اشتركي الآن
          </button>
        </div>
      </div>

      <div class="col-md-4">
        <img src="images/nutrition.jpg" alt="Workshop Image" class="img-fluid rounded" id="workshopImage">
      </div>
    </div>
  </div>
</section>


<!-- Modal Popup for Subscription Form -->
<div class="modal fade" id="workshopModal" tabindex="-1" role="dialog" aria-labelledby="workshopModalLabel" aria-hidden="true">
<div class="modal-dialog" role="document">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title" id="workshopModalLabel">اشتركي في ورشة العمل</h5>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form id="workshopForm">
        <!-- Name Field -->
        <div class="form-group">
          <label for="name">الاسم الكامل</label>
          <input
            type="text"
            class="form-control"
            id="name"
            placeholder="أدخل اسمك الكامل"
            required
          />
        </div>

        <!-- Email Field -->
        <div class="form-group">
          <label for="email">البريد الإلكتروني</label>
          <input
            type="email"
            class="form-control"
            id="email"
            placeholder="أدخل بريدك الإلكتروني"
            required
          />
        </div>

        <!-- Phone Number Field -->
        <div class="form-group">
          <label for="phone">رقم الهاتف</label>
          <input
            type="text"
            class="form-control"
            id="phone"
            placeholder="أدخل رقم هاتفك"
            required
          />
        </div>

        <!-- Payment Method Selection -->
        <div class="form-group">
          <label for="paymentMethod">اختر طريقة الدفع</label>
          <select class="form-control" id="paymentMethod" required>
            <option value="">اختر طريقة الدفع</option>
            <option value="credit_card">بطاقة ائتمان</option>
            <option value="paypal">باي بال</option>
            <option value="bank_transfer">تحويل بنكي</option>
          </select>
        </div>

        <!-- Subscription Button -->
        <button type="submit" class="btn btn-primary btn-block">اشتركي الآن</button>
      </form>
    </div>
  </div>
</div>
</div>



    <footer class="footer ftco-section">
		<div class="container">
		  <div class="row">
			<div class="col-md-6 col-lg-3 mb-4 mb-md-0">
			  <h2 class="footer-heading">بذرة حب</h2>
			  <p>
			   موقع الكتروني اردني لدعم صحة الأم والطفل .
			  </p>
			  <ul
				class="ftco-footer-social list-unstyled float-md-left float-lft mt-4"
			  >
				<li class="ftco-animate">
				  <a href="#"><span class="fa fa-twitter"></span></a>
				</li>
				<li class="ftco-animate">
				  <a href="#"><span class="fa fa-facebook"></span></a>
				</li>
				<li class="ftco-animate">
				  <a href="#"><span class="fa fa-instagram"></span></a>
				</li>
			  </ul>
			</div>
			<div class="col-md-6 col-lg-3 mb-4 mb-md-0">
			  <h2 class="footer-heading">اخر الاخبار</h2>
			  <div class="block-21 mb-4 d-flex">
				<a
				  class="img mr-4 rounded"
				  style="background-image: url(images/image_1.jpg)"
				></a>
				<div class="text">
				  <h3 class="heading">
					<a href="#"
					  >دور الرضاعة الطبيعية في تعزيز مناعة الطفل</a
					>
				  </h3>
				  <div class="meta">
					<div>
					  <a href="#"
						><span class="icon-calendar"></span> Mar. 04, 2024</a
					  >
					</div>
					<div>
					  <a href="#"><span class="icon-person"></span> Admin</a>
					</div>
					<div>
					  <a href="#"><span class="icon-chat"></span> 19</a>
					</div>
				  </div>
				</div>
			  </div>
			  <div class="block-21 mb-4 d-flex">
				<a
				  class="img mr-4 rounded"
				  style="background-image: url(images/image_2.jpg)"
				></a>
				<div class="text">
				  <h3 class="heading">
					<a href="#"
					  >سكر الحمل والوزن الزائد</a
					>
				  </h3>
				  <div class="meta">
					<div>
					  <a href="#"
						><span class="icon-calendar"></span> Mar. 04, 2020</a
					  >
					</div>
					<div>
					  <a href="#"><span class="icon-person"></span> Admin</a>
					</div>
					<div>
					  <a href="#"><span class="icon-chat"></span> 19</a>
					</div>
				  </div>
				</div>
			  </div>
			</div>
			<div class="col-md-6 col-lg-3 pl-lg-5 mb-4 mb-md-0">
			  <h2 class="footer-heading">روابط سريعة</h2>
			  <ul class="list-unstyled">
				<li><a href="#" class="py-1 d-block">الصفحة الرئيسية</a></li>
				<li><a href="#" class="py-1 d-block">عنا</a></li>
				<li><a href="#" class="py-1 d-block">الخدمات</a></li>
				<li><a href="#" class="py-1 d-block">المتجر</a></li>
				<li><a href="#" class="py-1 d-block">الاخبار والمقالات</a></li>
				<li><a href="#" class="py-1 d-block">تواصل معنا</a></li>
			  </ul>
			</div>
			<div class="col-md-6 col-lg-3 mb-4 mb-md-0">
			  <h2 class="footer-heading">هل لديك أي سؤال؟</h2>
			  <div class="block-23 mb-3">
				<ul>
				  <li>
					<span class="icon fa fa-map-marker"></span
					><span class="text"
					  >
					 </span
					>
				  </li>
				  <li>
					<a href="#"
					  ><span class="icon fa fa-phone"></span
					  ><span class="text">+2 392 3929 210</span></a
					>
				  </li>
				  <li>
					<a href="#"
					  ><span class="icon fa fa-paper-plane"></span
					  ><span class="text">info@yourdomain.com</span></a
					>
				  </li>
				</ul>
			  </div>
			</div>
		  </div>
		 
	  </footer>
  
	  <!-- loader -->
	  <div id="ftco-loader" class="show fullscreen">
		<svg class="circular" width="48px" height="48px">
		  <circle
			class="path-bg"
			cx="24"
			cy="24"
			r="22"
			fill="none"
			stroke-width="4"
			stroke="#eeeeee"
		  />
		  <circle
			class="path"
			cx="24"
			cy="24"
			r="22"
			fill="none"
			stroke-width="4"
			stroke-miterlimit="10"
			stroke="#F96D00"
		  />
		</svg>
	  </div>
   <!-- FontAwesome CDN (ensure you have this in your <head> or <body>) -->
	<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
	<script>
    // Function to extract the "id" parameter from the URL
    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }
  
    // Fetch Workshop Details
    async function fetchWorkshopDetails() {
      const workshopId = getQueryParam('id'); // Dynamically extract workshop ID from URL
  
      if (!workshopId) {
        console.error("No workshop ID provided in the URL.");
        return;
      }
  
      try {
        const response = await fetch(`https://localhost:7123/api/Workshops/${workshopId}`);  // Adjust your API URL
        const workshop = await response.json();
  
        // Populate the workshop details in the HTML
        document.getElementById('workshopTitle').textContent = workshop.title;
        document.getElementById('workshopDate').textContent = new Date(workshop.workshopDate).toLocaleDateString();
        document.getElementById('workshopTime').textContent = '10:00 صباحاً - 2:00 مساءً';  // Adjust time based on your data
        document.getElementById('workshopLocation').textContent = workshop.location;
        document.getElementById('workshopDescription').textContent = workshop.description || 'وصف الورشة غير متوفر حاليًا';
  
        // Populate topics (assuming topics are a string array in the API response)
        const workshopTopics = document.getElementById('workshopTopics');
        if (workshop.topics && workshop.topics.length > 0) {
          workshopTopics.innerHTML = ''; // Clear any existing topics
          workshop.topics.forEach(topic => {
            const li = document.createElement('li');
            li.textContent = topic;
            workshopTopics.appendChild(li);
          });
        } else {
          workshopTopics.innerHTML = '<li>لا توجد مواضيع مذكورة للورشة.</li>';
        }
  
        // Populate the workshop image
        if (workshop.image) {
          document.getElementById('workshopImage').src = workshop.image;
        }
  
      } catch (error) {
        console.error('Error fetching workshop details:', error);
      }
    }
  
    // Form Submission Logic
    async function submitWorkshopForm(event) {
      event.preventDefault();
  
      const workshopId = getQueryParam('id'); // Dynamically extract workshop ID from URL
      if (!workshopId) {
        console.error("No workshop ID provided for registration.");
        return;
      }
  
      const formData = {
        userId: 123, // Replace with actual logged-in user ID
        workshopId: workshopId,
        registrationDate: new Date(),
        status: 'Registered'
      };
  
      try {
        const response = await fetch(`https://localhost:7123/api/Workshops/${workshopId}/Attendees`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(formData)
        });
  
        if (response.ok) {
          alert('تم التسجيل بنجاح');
        } else {
          alert('حدث خطأ أثناء التسجيل');
        }
      } catch (error) {
        console.error('Error submitting form:', error);
      }
    }
  
    // Event Listeners
    document.addEventListener('DOMContentLoaded', fetchWorkshopDetails);
    document.getElementById('workshopForm').addEventListener('submit', submitWorkshopForm);
  </script>
  
	  <script src="js/jquery.min.js"></script>
	  <script src="js/jquery-migrate-3.0.1.min.js"></script>
	  <script src="js/popper.min.js"></script>
	  <script src="js/bootstrap.min.js"></script>
	  <script src="js/jquery.easing.1.3.js"></script>
	  <script src="js/jquery.waypoints.min.js"></script>
	  <script src="js/jquery.stellar.min.js"></script>
	  <script src="js/jquery.animateNumber.min.js"></script>
	  <script src="js/owl.carousel.min.js"></script>
	  <script src="js/jquery.magnific-popup.min.js"></script>
	  <script src="js/scrollax.min.js"></script>
	  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&amp;sensor=false"></script>
	  <script src="js/google-map.js"></script>
	  <script src="js/main.js"></script>
  
    <!-- JavaScript for Payment Method -->
    <script>
      // Show credit card fields only if "credit_card" is selected as payment method
      const paymentMethod = document.getElementById('paymentMethod');
      const creditCardFields = document.getElementById('creditCardFields');

      paymentMethod.addEventListener('change', function () {
        if (this.value === 'credit_card') {
          creditCardFields.style.display = 'block';
        } else {
          creditCardFields.style.display = 'none';
        }
      });
    </script>

    <!-- Required Bootstrap and jQuery Scripts -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
